<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Glacialis by Glacier® | Bain Glacé 0°C - Thérapie par le Froid</title>
    <meta name="description" content="Découvrez le Glacialis by Glacier® - Le bain glacé ultime atteignant 0°C. Technologie de pointe, design élégant, fabrication française.">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="styles-new.css">
    <link rel="stylesheet" href="produit-styles.css">
    <link rel="stylesheet" href="mobile-optimization.css">
    <link rel="stylesheet" href="mobile-produit-optimization.css">
    <link rel="stylesheet" href="cart-styles.css">
    <link rel="stylesheet" href="chiller-selector.css">
    <link rel="stylesheet" href="icetubs-selector.css">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Additional styles for clickable options -->
    <style>
        /* Modal Animation */
        @keyframes modalFadeIn {
            from {
                opacity: 0;
                transform: scale(0.95) translateY(-20px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        /* Option Title Hover Effects */
        .option-title:hover {
            transform: translateX(5px);
            color: #667eea !important;
        }

        /* Modal Close Button Hover */
        .modal-close:hover {
            color: #333 !important;
            transform: rotate(90deg);
        }

        /* Clickable option titles */
        .option-title {
            cursor: pointer;
            user-select: none;
            transition: color 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .option-title:hover {
            color: #1e3c72;
        }

        .option-title i {
            transition: transform 0.3s ease;
            font-size: 0.9em;
        }

        /* Smooth transition for option images */
        .option-image-container {
            transition: all 0.3s ease-in-out;
            margin-top: 15px;
            overflow: hidden;
        }

        .option-image-container img {
            width: 100%;
            max-width: 400px;
            height: auto;
            border-radius: 10px;
            margin-bottom: 15px;
            display: block;
        }

        /* Feature list styling */
        .option-image-container ul {
            list-style: none;
            padding: 0;
            margin: 15px 0 0 0;
        }

        .option-image-container ul li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
            color: #333;
            font-size: 0.95em;
        }

        .option-image-container ul li:before {
            content: "✓";
            position: absolute;
            left: 0;
            color: #1e3c72;
            font-weight: bold;
        }

        /* Ensure toggle switches are not affected */
        .toggle-option-card {
            transition: all 0.3s ease;
        }

        /* Clickable accessories styling */
        .clickable-accessory {
            cursor: pointer;
            color: #4A90E2;
            text-decoration: underline;
            transition: all 0.3s ease;
            user-select: none;
        }

        .clickable-accessory:hover {
            color: #1e3c72;
            font-weight: 600;
            transform: translateX(3px);
        }

        .clickable-accessory:active {
            transform: scale(0.98);
        }
    </style>

    <!-- SEO & Performance -->
    <script src="seo-optimization.js" defer></script>
    <link rel="canonical" href="https://glacierstore.fr/produit.html">

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="images site/images/logo.png">
</head>
<body>

    <!-- Header - Minimaliste et moderne -->
    <header class="header">
        <div class="header-container">
            <div class="nav-left">
                <a href="index.html" class="logo-link">
                    <img src="images site/images/logo_glacier3.png" alt="Glacialis by Glacier®" class="logo-image">
                </a>
            </div>
            <nav class="nav-center">
                <a href="index.html" class="nav-link">Accueil</a>
                <a href="#specifications" class="nav-link">Spécifications</a>
                <a href="#gallery" class="nav-link">Galerie</a>
                <a href="#reviews" class="nav-link">Avis</a>
            </nav>
            <div class="nav-right">
                <a href="#" class="btn-primary-header">Commander</a>
            </div>
            <button class="mobile-toggle">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </header>

    <!-- Product Hero Section -->
    <section class="product-hero">
        <div class="container">
            <div class="breadcrumb">
                <a href="index.html">Accueil</a>
                <i class="fas fa-chevron-right"></i>
                <span>Glacialis by Glacier<sup>®</sup></span>
            </div>

            <div class="product-hero-grid">
                <div class="product-gallery">
                    <!-- Carousel principal style Icetubs -->
                    <div class="main-carousel">
                        <div class="carousel-container">
                            <img src="images site/images/18201107501351786863.jpg" alt="Baignoire Glacialis vue principale" class="carousel-image active">
                            <img src="images site/images/Modif site/inox/IMG_0035.png" alt="Baignoire Glacialis" class="carousel-image">
                            <img src="images site/images/Modif site/chiller/Chiller ice pose.png" alt="Chiller ICE" class="carousel-image">
                            <img src="images site/images/12236011082237918591.jpg" alt="Vue baignoire 2" class="carousel-image">
                            <img src="images site/images/Modif site/chiller/Chiller premium pose.png" alt="Chiller PREMIUM" class="carousel-image">
                            <img src="images site/images/16752233196328030051.jpg" alt="Vue baignoire 3" class="carousel-image">
                            <img src="images site/images/Modif site/inox/IMG_0090.jpg" alt="Détail acier 316SS" class="carousel-image">
                            <img src="images site/images/5016398007798532847.jpg" alt="Vue baignoire 4" class="carousel-image">
                            <img src="images site/images/8590689156708531257.jpg" alt="Vue ensemble" class="carousel-image">
                            <img src="images site/images/9519088168339938170.jpg" alt="Vue installation" class="carousel-image">
                        </div>
                        <button class="carousel-prev" onclick="moveCarousel(-1)">‹</button>
                        <button class="carousel-next" onclick="moveCarousel(1)">›</button>
                        <div class="carousel-dots" id="carousel-dots"></div>
                    </div>
                </div>

                <div class="product-details">
                    <h1 class="product-name">
                        Glacialis by Glacier<sup>®</sup>
                        <span class="product-subtitle">Le bain glacé ultime</span>
                    </h1>

                    <div class="product-rating-section">
                        <div class="stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <span class="rating-text">4.9/5 (127 avis vérifiés)</span>
                    </div>

                    <!-- Product Configurator - Inspiré d'Icetubs -->
                    <div class="product-configurator">
                        <!-- Section 1: Sélection de la taille de baignoire -->
                        <div class="selection-section">
                            <div class="selection-title">
                                <h3>1. Votre baignoire GLACIALIS incluse</h3>
                                <p class="selection-subtitle">Baignoire professionnelle en acier inoxydable 316SS avec repose-pieds en bois</p>
                            </div>
                            <div class="selection-options single-option">
                                <div class="option-card selected">
                                    <div class="option-badge included">INCLUS</div>
                                    <div class="option-image">
                                        <img src="images site/images/Modif site/inox/IMG_0035.png" alt="Baignoire GLACIALIS">
                                    </div>
                                    <div class="option-content">
                                        <h4 class="option-name">GLACIALIS - Baignoire Thérapie par le Froid</h4>
                                        <p class="option-description">Conçue pour une immersion optimale et un confort maximal</p>
                                        <div class="option-features">
                                            <h5>Caractéristiques</h5>
                                            <ul>
                                                <li>Dimensions : 1500 x 770 x 610 mm</li>
                                                <li>Volume : 510 litres</li>
                                                <li>Acier inoxydable 316SS premium</li>
                                                <li>Isolation thermique renforcée</li>
                                                <li><span class="clickable-accessory" onclick="openOptionModal('footrest')" style="pointer-events: auto !important;">Repose-pieds en bois de cèdre inclus</span></li>
                                            </ul>
                                        </div>
                                        <div class="option-price">
                                            <span class="price-label">Inclus dans le pack</span>
                                            <span class="price-amount">✓</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Section 2: Sélection du chiller -->
                        <div class="selection-section">
                            <div class="selection-title">
                                <h3>2. Sélectionnez votre système de refroidissement</h3>
                                <p class="selection-subtitle">Choisissez le chiller adapté à vos besoins</p>
                            </div>
                            <div class="selection-options">
                                <!-- Chiller ICE -->
                                <div class="option-card selected" data-model="ice" onclick="selectChillerModel('ice')">
                                    <div class="option-badge">RECOMMANDÉ</div>
                                    <div class="option-image">
                                        <img src="images site/images/Modif site/chiller/Chiller ice pose.png" alt="Chiller ICE">
                                    </div>
                                    <div class="option-content">
                                        <h4 class="option-name">Chiller ICE</h4>
                                        <p class="option-description">Performance extrême - Atteint 0°C avec formation de glace</p>
                                        <div class="option-features">
                                            <h5>Accessoires inclus</h5>
                                            <ul>
                                                <li><span class="clickable-accessory" onclick="openOptionModal('filterICE')">1x Filtre 5 pouces</span></li>
                                                <li><span class="clickable-accessory" onclick="openOptionModal('keyFilterICE')">1x Clé à Filtre</span></li>
                                                <li><span class="clickable-accessory" onclick="openOptionModal('keyGridICE')">1x Clé à Grille filtrante</span></li>
                                                <li><span class="clickable-accessory" onclick="openOptionModal('screwdriverICE')">1x Tourne vis plate</span></li>
                                                <li><span class="clickable-accessory" onclick="openOptionModal('pipesICE')">2x tuyaux d'eau</span></li>
                                                <li><span class="clickable-accessory" onclick="openOptionModal('gridICE')">1x Grille filtrante</span></li>
                                                <li><span class="clickable-accessory" onclick="openOptionModal('clampsICE')">4x Colliers de serrage</span></li>
                                                <li><span class="clickable-accessory" onclick="openOptionModal('teflonICE')">1x ruban téflon</span></li>
                                            </ul>
                                        </div>
                                        <div class="option-price">
                                            <span class="price-label">Prix total</span>
                                            <span class="price-amount">5 499€</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Chiller PREMIUM -->
                                <div class="option-card" data-model="premium" onclick="selectChillerModel('premium')">
                                    <div class="option-badge premium">MEILLEUR RAPPORT</div>
                                    <div class="option-image">
                                        <img src="images site/images/Modif site/chiller/Chiller premium pose.png" alt="Chiller PREMIUM">
                                    </div>
                                    <div class="option-content">
                                        <h4 class="option-name">Chiller PREMIUM</h4>
                                        <p class="option-description">Usage quotidien - Température de 3°C à 42°C</p>
                                        <div class="option-features">
                                            <h5>Accessoires inclus</h5>
                                            <ul>
                                                <li><span class="clickable-accessory" onclick="openOptionModal('filterPremium')">1x Filtre</span></li>
                                                <li><span class="clickable-accessory" onclick="openOptionModal('keyFilterPremium')">1x Clé à Filtre</span></li>
                                                <li><span class="clickable-accessory" onclick="openOptionModal('pipesPremium')">2x tuyaux d'eau</span></li>
                                                <li><span class="clickable-accessory" onclick="openOptionModal('gridPremium')">1x Grille filtrante</span></li>
                                                <li><span class="clickable-accessory" onclick="openOptionModal('adapter90Premium')">2x Adapteur 90°</span></li>
                                                <li><span class="clickable-accessory" onclick="openOptionModal('adapterPremium')">2x Adapteur</span></li>
                                                <li><span class="clickable-accessory" onclick="openOptionModal('jointsPremium')">8x Joint en caoutchouc</span></li>
                                                <li><span class="clickable-accessory" onclick="openOptionModal('teflonPremium')">1x ruban téflon</span></li>
                                            </ul>
                                        </div>
                                        <div class="option-price">
                                            <span class="price-label">Prix total</span>
                                            <span class="price-amount">4 999€</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Options Additionnelles avec Toggle Switches et Images Cliquables -->
                    <div class="options-toggle-section" style="margin: 40px 0; padding: 30px; background: white; border-radius: 15px; box-shadow: 0 4px 20px rgba(0,0,0,0.08);">
                        <h3 style="font-size: 1.6rem; color: #1e3c72; margin-bottom: 25px; text-align: center;">Options Additionnelles Disponibles</h3>
                        <div class="toggle-options-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 20px; max-width: 800px; margin: 0 auto;">

                            <!-- Option Élément filtrant -->
                            <div class="toggle-option-card" data-option="filter" data-price="1.5">
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 20px; background: #f8f9fa; border-radius: 12px; transition: all 0.3s;">
                                    <div style="flex: 1;">
                                        <h4 style="margin: 0 0 5px 0; color: #4A90E2; font-size: 1.1rem; cursor: pointer; transition: all 0.3s; text-decoration: underline; display: inline-block;" class="option-title" data-option="filter" title="Cliquez pour voir les détails">
                                            <i class="fas fa-info-circle" style="font-size: 0.9rem; margin-right: 5px;"></i>
                                            Élément filtrant
                                        </h4>
                                        <p style="margin: 0; color: #666; font-size: 0.9rem;">Eau pure et cristalline</p>
                                        <span style="color: #4A90E2; font-weight: 700; font-size: 1rem;">+1,5€</span>
                                    </div>
                                    <label class="toggle-switch">
                                        <input type="checkbox" class="option-toggle" data-option="filter">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                <!-- Image cachée par défaut -->
                                <div class="option-image-container" style="display: none; padding: 20px; background: #fff; border-radius: 0 0 12px 12px;">
                                    <img id="filter-option-image" src="images site/images/Modif site/filtre et couv/filtre.png" alt="Élément filtrant" style="width: 100%; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                                    <div style="margin-top: 15px; padding: 15px; background: #f0f8ff; border-radius: 8px;">
                                        <h5 style="margin: 0 0 10px 0; color: #1e3c72;">Caractéristiques :</h5>
                                        <ul style="margin: 0; padding-left: 20px; color: #666;">
                                            <li>Filtration professionnelle</li>
                                            <li>Eau cristalline garantie</li>
                                            <li>Élimination des impuretés à 99,9%</li>
                                            <li>Maintenance facile</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <!-- Option Couverture Premium -->
                            <div class="toggle-option-card" data-option="cover" data-price="199">
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 20px; background: #f8f9fa; border-radius: 12px; transition: all 0.3s;">
                                    <div style="flex: 1;">
                                        <h4 style="margin: 0 0 5px 0; color: #4A90E2; font-size: 1.1rem; cursor: pointer; transition: all 0.3s; text-decoration: underline; display: inline-block;" class="option-title" data-option="cover" title="Cliquez pour voir les détails">
                                            <i class="fas fa-info-circle" style="font-size: 0.9rem; margin-right: 5px;"></i>
                                            Couverture Premium
                                        </h4>
                                        <p style="margin: 0; color: #666; font-size: 0.9rem;">Maintien température & protection</p>
                                        <span style="color: #4A90E2; font-weight: 700; font-size: 1rem;">+199€</span>
                                    </div>
                                    <label class="toggle-switch">
                                        <input type="checkbox" class="option-toggle" data-option="cover">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                <!-- Image cachée par défaut -->
                                <div class="option-image-container" style="display: none; padding: 20px; background: #fff; border-radius: 0 0 12px 12px;">
                                    <img src="images site/images/Modif site/filtre et couv/couverture.png" alt="Couverture Premium" style="width: 100%; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                                    <div style="margin-top: 15px; padding: 15px; background: #f0f8ff; border-radius: 8px;">
                                        <h5 style="margin: 0 0 10px 0; color: #1e3c72;">Caractéristiques :</h5>
                                        <ul style="margin: 0; padding-left: 20px; color: #666;">
                                            <li>Isolation thermique optimale</li>
                                            <li>Protection UV intégrée</li>
                                            <li>Matériaux durables</li>
                                            <li>Facile à installer et retirer</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                        <!-- Offre Exclusive Section -->
                        <div class="exclusive-offer-section" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 15px; padding: 25px 20px; margin: 30px 0; box-shadow: 0 5px 20px rgba(102, 126, 234, 0.2);">
                            <h3 style="color: white; text-align: center; font-size: 1.4rem; margin-bottom: 5px; text-transform: uppercase; letter-spacing: 1px;">
                                🎁 Offre Exclusive 🎁
                            </h3>
                            <p style="color: rgba(255, 255, 255, 0.9); text-align: center; font-size: 0.9rem; margin-bottom: 20px;">
                                Économisez avec nos packs complets !
                            </p>

                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; max-width: 800px; margin: 0 auto;">
                                <!-- Pack ICE -->
                                <div style="background: white; border-radius: 12px; padding: 20px; box-shadow: 0 3px 15px rgba(0,0,0,0.1); position: relative; overflow: hidden;">
                                    <div style="position: absolute; top: -3px; right: -30px; background: #ff4757; color: white; padding: 3px 35px; transform: rotate(45deg); font-size: 0.7rem; font-weight: bold;">
                                        -105€
                                    </div>
                                    <h4 style="color: #1e3c72; font-size: 1.2rem; margin-bottom: 15px; text-align: center;">
                                        ❄️ Pack ICE
                                    </h4>
                                    <ul style="list-style: none; padding: 0; margin-bottom: 15px; font-size: 0.85rem;">
                                        <li style="margin-bottom: 5px; color: #555;">
                                            <i class="fas fa-check" style="color: #4CAF50; margin-right: 5px; font-size: 0.8rem;"></i>
                                            1 Chiller ICE + 1 Baignoire GLACIALIS
                                        </li>
                                        <li style="margin-bottom: 5px; color: #555;">
                                            <i class="fas fa-check" style="color: #4CAF50; margin-right: 5px; font-size: 0.8rem;"></i>
                                            5 Éléments filtrants
                                        </li>
                                        <li style="margin-bottom: 5px; color: #555;">
                                            <i class="fas fa-check" style="color: #4CAF50; margin-right: 5px; font-size: 0.8rem;"></i>
                                            1 Couverture premium
                                        </li>
                                    </ul>
                                    <div style="text-align: center; margin-bottom: 15px;">
                                        <p style="color: #999; text-decoration: line-through; font-size: 0.8rem; margin-bottom: 2px;">
                                            5705,50€
                                        </p>
                                        <p style="color: #667eea; font-size: 1.6rem; font-weight: bold; margin: 0;">
                                            5 600€
                                        </p>
                                    </div>
                                    <button onclick="addPackIceToCart()" style="width: 100%; padding: 12px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 8px; font-size: 0.95rem; font-weight: bold; cursor: pointer; transition: all 0.3s;">
                                        <i class="fas fa-shopping-cart" style="margin-right: 5px;"></i>
                                        Commander
                                    </button>
                                </div>

                                <!-- Pack PREMIUM -->
                                <div style="background: white; border-radius: 12px; padding: 20px; box-shadow: 0 3px 15px rgba(0,0,0,0.1); position: relative; overflow: hidden;">
                                    <div style="position: absolute; top: -3px; right: -30px; background: #ff4757; color: white; padding: 3px 35px; transform: rotate(45deg); font-size: 0.7rem; font-weight: bold;">
                                        -105€
                                    </div>
                                    <h4 style="color: #1e3c72; font-size: 1.2rem; margin-bottom: 15px; text-align: center;">
                                        🌊 Pack PREMIUM
                                    </h4>
                                    <ul style="list-style: none; padding: 0; margin-bottom: 15px; font-size: 0.85rem;">
                                        <li style="margin-bottom: 5px; color: #555;">
                                            <i class="fas fa-check" style="color: #4CAF50; margin-right: 5px; font-size: 0.8rem;"></i>
                                            1 Chiller Premium + 1 Baignoire GLACIALIS
                                        </li>
                                        <li style="margin-bottom: 5px; color: #555;">
                                            <i class="fas fa-check" style="color: #4CAF50; margin-right: 5px; font-size: 0.8rem;"></i>
                                            5 Éléments filtrants
                                        </li>
                                        <li style="margin-bottom: 5px; color: #555;">
                                            <i class="fas fa-check" style="color: #4CAF50; margin-right: 5px; font-size: 0.8rem;"></i>
                                            1 Couverture premium
                                        </li>
                                    </ul>
                                    <div style="text-align: center; margin-bottom: 15px;">
                                        <p style="color: #999; text-decoration: line-through; font-size: 0.8rem; margin-bottom: 2px;">
                                            5205,50€
                                        </p>
                                        <p style="color: #f093fb; font-size: 1.6rem; font-weight: bold; margin: 0;">
                                            5 100€
                                        </p>
                                    </div>
                                    <button onclick="addPackPremiumToCart()" style="width: 100%; padding: 12px; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; border: none; border-radius: 8px; font-size: 0.95rem; font-weight: bold; cursor: pointer; transition: all 0.3s;">
                                        <i class="fas fa-shopping-cart" style="margin-right: 5px;"></i>
                                        Commander
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Configuration Summary -->
                        <div class="configuration-summary">
                            <h3 class="summary-title">Votre configuration complète</h3>
                            <div class="summary-content">
                                <div class="summary-items">
                                    <div class="summary-item">
                                        <span class="summary-item-name">Baignoire GLACIALIS 510L</span>
                                        <span class="summary-item-price">Inclus</span>
                                    </div>
                                    <div class="summary-item">
                                        <span class="summary-item-name" id="selected-chiller-name">Chiller ICE (0°C)</span>
                                        <span class="summary-item-price">Inclus</span>
                                    </div>
                                    <div class="summary-item">
                                        <span class="summary-item-name">Accessoires complets</span>
                                        <span class="summary-item-price">Inclus</span>
                                    </div>
                                    <div class="summary-item">
                                        <span class="summary-item-name">Livraison & Installation</span>
                                        <span class="summary-item-price">Gratuit</span>
                                    </div>
                                </div>
                                <div class="summary-total">
                                    <div class="summary-total-label">Total TTC</div>
                                    <div class="summary-total-amount" id="total-price">5 499€</div>
                                    <div class="summary-action">
                                        <button class="buy-button" style="width: 100%; padding: 15px 30px; background: linear-gradient(135deg, #4A90E2, #667eea); color: white; border: none; border-radius: 10px; font-size: 1.1rem; font-weight: 700; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(74, 144, 226, 0.3);" onclick="addCompletePackToCart()">
                                            <i class="fas fa-shopping-cart"></i> Ajouter au panier
                                        </button>
                                        <a href="#contact" class="btn-secondary" style="display: block; text-align: center; margin-top: 10px; padding: 12px 20px; background: #f8f9fa; color: #333; text-decoration: none; border-radius: 8px; font-weight: 600;">
                                            <i class="fas fa-question-circle"></i> Besoin de conseils ?
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Product Guarantees - Aligned with configuration -->
                        <div class="product-guarantees">
                            <div class="guarantee-item">
                                <i class="fas fa-truck"></i>
                                <span>Livraison gratuite</span>
                            </div>
                            <div class="guarantee-item">
                                <i class="fas fa-tools"></i>
                                <span>Garantie 2 ans complète</span>
                            </div>
                        </div>
                    </div>

                    <!-- Overlay Modal pour les détails des options -->
                    <!-- Modal pour Options Additionnelles (Filtration et Couverture) -->
                    <div id="option-modal" class="option-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 9999; justify-content: center; align-items: center;">
                        <div class="modal-content" style="background: white; border-radius: 20px; max-width: 800px; width: 90%; max-height: 90vh; overflow-y: auto; position: relative; padding: 40px; animation: modalFadeIn 0.3s ease;">
                            <button class="modal-close" onclick="closeOptionModal()" style="position: absolute; top: 20px; right: 20px; background: none; border: none; font-size: 30px; color: #999; cursor: pointer; transition: color 0.3s;">
                                <i class="fas fa-times"></i>
                            </button>
                            <div class="modal-body" style="display: flex; gap: 30px; align-items: center; flex-wrap: wrap;">
                                <div class="modal-image-container" style="flex: 1; min-width: 300px;">
                                    <img id="modal-image" src="" alt="" style="width: 100%; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
                                </div>
                                <div class="modal-info" style="flex: 1; min-width: 300px;">
                                    <h3 id="modal-title" style="color: #1e3c72; font-size: 2rem; margin-bottom: 15px;"></h3>
                                    <p id="modal-description" style="color: #666; font-size: 1.1rem; line-height: 1.6; margin-bottom: 20px;"></p>
                                    <div class="modal-price" id="modal-price" style="font-size: 2rem; color: #4A90E2; font-weight: 700; margin-bottom: 20px;"></div>
                                    <ul id="modal-features" style="list-style: none; padding: 0; margin-bottom: 25px;">
                                        <!-- Features will be added dynamically -->
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Original Overlay Modal for Upsell -->
                    <div id="option-overlay" class="option-overlay" style="display: none;">
                        <div class="overlay-content">
                            <button class="overlay-close">&times;</button>
                            <div class="overlay-grid">
                                <div class="overlay-image">
                                    <img id="overlay-img" src="" alt="">
                                </div>
                                <div class="overlay-details">
                                    <h3 id="overlay-title"></h3>
                                    <p id="overlay-description"></p>
                                    <div class="overlay-features" id="overlay-features"></div>
                                    <div class="overlay-price">
                                        <span>Prix :</span>
                                        <strong id="overlay-price"></strong>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Script for overlay functionality (needs to be here before onclick handlers) -->
                    <script>
                        // Define upsell options
                        const upsellOptions = {
                            filter: {
                                name: 'Élément filtrant',
                                price: 1.5,
                                description: 'Kit de filtration complet pour maintenir une eau propre et claire. Comprend le système de filtration avec cartouches remplaçables pour une purification optimale de l\'eau.',
                                image: 'images site/images/Modif site/filtre et couv/Filtre blanc.png',
                                imagePremium: 'images site/images/Modif site/filtre et couv/cartridge_filter.png'
                            },
                            cover: {
                                name: 'Couverture Premium',
                                price: 199,
                                description: 'Couverture isolante haute qualité pour protéger votre bain et conserver la température. Réduit les pertes thermiques et protège l\'eau des impuretés extérieures.',
                                image: 'images site/images/Modif site/filtre et couv/IMG_couvd.jpg.png'
                            }
                        };

                        // Show overlay with option details
                        function showOptionOverlay(optionId) {
                            const option = upsellOptions[optionId];
                            const overlay = document.getElementById('option-overlay');

                            if (option && overlay) {
                                const overlayImage = document.getElementById('overlay-img');
                                if (overlayImage) {
                                    // Si c'est le filtre, changer l'image selon le modèle sélectionné
                                    if (optionId === 'filter') {
                                        const selectedModel = window.selectedChillerModel || 'ice';
                                        overlayImage.src = selectedModel === 'premium' ? option.imagePremium : option.image;
                                    } else {
                                        overlayImage.src = option.image;
                                    }
                                }

                                const overlayTitle = document.getElementById('overlay-title');
                                if (overlayTitle) overlayTitle.textContent = option.name;

                                const overlayDesc = document.getElementById('overlay-description');
                                if (overlayDesc) overlayDesc.textContent = option.description;

                                const overlayPrice = document.getElementById('overlay-price');
                                if (overlayPrice) overlayPrice.textContent = option.price + '€';

                                overlay.style.display = 'block';
                                setTimeout(() => overlay.classList.add('active'), 10);
                            }
                        }

                        // Close overlay
                        function closeOptionOverlay() {
                            const overlay = document.getElementById('option-overlay');
                            if (overlay) {
                                overlay.classList.remove('active');
                                setTimeout(() => overlay.style.display = 'none', 300);
                            }
                        }

                        // Close overlay when clicking outside
                        document.addEventListener('DOMContentLoaded', function() {
                            const overlay = document.getElementById('option-overlay');
                            if (overlay) {
                                overlay.addEventListener('click', function(e) {
                                    if (e.target === this || e.target.classList.contains('overlay-close')) {
                                        closeOptionOverlay();
                                    }
                                });
                            }
                        });
                    </script>

                    </div>

                    <div class="key-features" style="text-align: center; max-width: 600px; margin: 0 auto;">
                        <h3 style="text-align: center; margin-bottom: 20px;">Points forts</h3>
                        <ul style="list-style: none; padding: 0; text-align: left; display: inline-block;">
                            <li><i class="fas fa-thermometer-empty"></i> <strong>Température 0°C à 40°C</strong> - Refroidissement extrême</li>
                            <li><i class="fas fa-bolt"></i> Système de refroidissement 1.0HP haute performance</li>
                            <li><i class="fas fa-water"></i> Capacité 510L pour un confort optimal</li>
                            <li><i class="fas fa-filter"></i> Système de filtration intégré avancé</li>
                            <li><i class="fas fa-mobile-alt"></i> Contrôle via application mobile</li>
                            <li><i class="fas fa-shield-alt"></i> Garantie 2 ans complète</li>
                        </ul>
                    </div>


                </div>
            </div>
        </div>
    </section>

    <!-- Product Information Tabs -->
    <section id="specifications" class="product-info-section">
        <div class="container">
            <div class="tabs-container">
                <div class="tab-buttons">
                    <button class="tab-btn active" data-tab="description">Description</button>
                    <button class="tab-btn" data-tab="specs">Spécifications</button>
                    <button class="tab-btn" data-tab="technology">Technologie</button>
                    <button class="tab-btn" data-tab="usage">Utilisation</button>
                </div>

                <div class="tab-contents">
                    <div id="description" class="tab-content active">
                        <h2>L'Excellence de la Thérapie par le Froid</h2>
                        <p>Le Glacialis by Glacier<sup>®</sup> représente le summum de la technologie de thérapie par le froid. Conçu en collaboration avec des athlètes professionnels et des experts en récupération, ce bain glacé offre une expérience incomparable.</p>

                        <h3>Conception Premium</h3>
                        <p>Chaque détail a été pensé pour maximiser l'efficacité de votre séance de thérapie par le froid. De la structure en acier inoxydable marine au système de filtration avancé, tout est conçu pour durer et performer.</p>

                        <h3>Performance Extrême</h3>
                        <p>Avec sa capacité à atteindre <strong>0°C</strong>, le Glacialis by Glacier<sup>®</sup> vous permet de bénéficier pleinement des effets de la thérapie par le froid : récupération accélérée, réduction de l'inflammation, amélioration de la circulation sanguine et boost mental.</p>
                    </div>

                    <div id="specs" class="tab-content">
                        <h2>Spécifications Techniques</h2>
                        <div id="specs-content">
                            <!-- Spécifications ICE par défaut -->
                            <div id="ice-specs" class="specs-container">
                                <h3 style="color: #667eea; margin-bottom: 20px;">Chiller ICE - Modèle CHU-10-RV</h3>
                                <div class="specs-grid">
                                    <div class="spec-group">
                                        <h3>Dimensions & Capacité</h3>
                                        <ul>
                                            <li><strong>Dimensions:</strong> 580 x 390 x 635 mm</li>
                                            <li><strong>Poids net:</strong> 46.5 kg</li>
                                            <li><strong>Réfrigérant:</strong> R32 (480g)</li>
                                            <li><strong>Désinfection:</strong> Générateur d'ozone</li>
                                        </ul>
                                    </div>
                                    <div class="spec-group">
                                        <h3>Performance</h3>
                                        <ul>
                                            <li><strong>Température:</strong> 0°C à 40°C</li>
                                            <li><strong>Puissance:</strong> 1.0HP</li>
                                            <li><strong>Refroidissement:</strong> 2.81kW</li>
                                            <li><strong>Chauffage:</strong> 3.37kW</li>
                                            <li><strong>COP:</strong> 4.08</li>
                                            <li><strong>Environnement:</strong> 15-43°C (Refroid.) / 15-35°C (Chauf.)</li>
                                        </ul>
                                    </div>
                                    <div class="spec-group">
                                        <h3>Alimentation</h3>
                                        <ul>
                                            <li><strong>Tension:</strong> 110-120V / 60Hz</li>
                                            <li><strong>Puissance entrée (Refroid.):</strong> 0.69kW</li>
                                            <li><strong>Puissance entrée (Chauf.):</strong> 0.69kW</li>
                                            <li><strong>Puissance compresseur:</strong> 0.569kW</li>
                                        </ul>
                                    </div>
                                    <div class="spec-group">
                                        <h3>Contrôle & Connectivité</h3>
                                        <ul>
                                            <li><strong>Contrôle:</strong> iOS & Android APP, WIFI</li>
                                            <li><strong>Pompe:</strong> Moteur DC 88W</li>
                                            <li><strong>Filtration:</strong> Double filtre externe</li>
                                            <li><strong>Connexion rapide:</strong> Oui</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <!-- Spécifications PREMIUM (cachées par défaut) -->
                            <div id="premium-specs" class="specs-container" style="display: none;">
                                <h3 style="color: #f093fb; margin-bottom: 20px;">Chiller PREMIUM - Modèles CHM-10-RW / CHM-10-RV</h3>
                                <div class="specs-grid">
                                    <div class="spec-group">
                                        <h3>Dimensions & Capacité</h3>
                                        <ul>
                                            <li><strong>Dimensions:</strong> 540 x 400 x 564 mm</li>
                                            <li><strong>Poids net:</strong> 40.1kg (RW) / 39.4kg (RV)</li>
                                            <li><strong>Réfrigérant:</strong> R32 (380g RW / 400g RV)</li>
                                            <li><strong>Désinfection:</strong> Générateur d'ozone</li>
                                        </ul>
                                    </div>
                                    <div class="spec-group">
                                        <h3>Performance</h3>
                                        <ul>
                                            <li><strong>Température:</strong> 3°C à 42°C</li>
                                            <li><strong>Alimentation:</strong> 220-240V (RW) / 110-120V (RV)</li>
                                            <li><strong>Refroidissement:</strong> 2.51kW (RW) / 3.05kW (RV)</li>
                                            <li><strong>Chauffage:</strong> 3.80kW (RW) / 4.04kW (RV)</li>
                                            <li><strong>COP:</strong> 2.46 (RW) / 2.85 (RV)</li>
                                            <li><strong>Environnement:</strong> 18-43°C (Refroid.) / 15-35°C (Chauf.)</li>
                                        </ul>
                                    </div>
                                    <div class="spec-group">
                                        <h3>Alimentation</h3>
                                        <ul>
                                            <li><strong>Puissance entrée (Refroid.):</strong> 1.02kW (RW) / 1.07kW (RV)</li>
                                            <li><strong>Puissance entrée (Chauf.):</strong> 0.70kW (RW) / 0.74kW (RV)</li>
                                            <li><strong>Puissance compresseur:</strong> 0.847kW (RW) / 0.872kW (RV)</li>
                                            <li><strong>Fréquence:</strong> 50Hz (RW) / 60Hz (RV)</li>
                                        </ul>
                                    </div>
                                    <div class="spec-group">
                                        <h3>Contrôle & Connectivité</h3>
                                        <ul>
                                            <li><strong>Contrôle:</strong> iOS & Android APP, WIFI</li>
                                            <li><strong>Pompe:</strong> Système auto-amorçant intégré</li>
                                            <li><strong>Filtration:</strong> Système interne installé</li>
                                            <li><strong>Connexion rapide:</strong> Oui</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="technology" class="tab-content">
                        <h2>Technologie Avancée</h2>
                        <div class="tech-features">
                            <div class="tech-item">
                                <i class="fas fa-snowflake"></i>
                                <h3>Système de Refroidissement Haute Performance</h3>
                                <p>Compresseur haute performance dernière génération avec technologie inverter pour un refroidissement rapide et silencieux.</p>
                            </div>
                            <div class="tech-item">
                                <i class="fas fa-filter"></i>
                                <h3>Filtration Intégrée Avancée</h3>
                                <p>Système de filtration multi-étapes avec traitement antibactérien pour une eau toujours pure et saine.</p>
                            </div>
                            <div class="tech-item">
                                <i class="fas fa-mobile-alt"></i>
                                <h3>Application TUYA - Contrôle Total</h3>
                                <p>Avec l'application TUYA, contrôlez votre bain à distance : température, programmation, statistiques et notifications intelligentes. Compatible iOS et Android.</p>
                            </div>
                            <div class="tech-item">
                                <i class="fas fa-shield-alt"></i>
                                <h3>Protection Anti-Gel</h3>
                                <p>Système intelligent qui protège votre équipement contre le gel et optimise la consommation d'énergie.</p>
                            </div>
                        </div>
                    </div>

                    <div id="usage" class="tab-content">
                        <h2>Guide d'Utilisation</h2>
                        <div class="usage-guide">
                            <h3>Première utilisation</h3>
                            <ol>
                                <li>Remplissez le bain avec de l'eau propre jusqu'au niveau indiqué</li>
                                <li>Branchez l'appareil et activez le système de refroidissement</li>
                                <li>Réglez la température souhaitée (recommandé: 3-5°C pour débuter)</li>
                                <li>Attendez 2-4 heures pour atteindre la température cible</li>
                            </ol>

                            <h3>Protocole recommandé</h3>
                            <ul>
                                <li><strong>Débutants:</strong> 30 secondes à 2 minutes, 2-3 fois par semaine</li>
                                <li><strong>Intermédiaires:</strong> 2-5 minutes, 3-5 fois par semaine</li>
                                <li><strong>Avancés:</strong> 5-10 minutes, quotidiennement</li>
                            </ul>

                            <h3>Entretien</h3>
                            <p>Le système de filtration intégré maintient l'eau propre. Changez l'eau toutes les 4-6 semaines et nettoyez les filtres mensuellement.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Points Forts Section -->
    <section id="highlights" class="highlights-section" style="padding: 80px 0; background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);">
        <div class="container">
            <h2 class="section-title" style="text-align: center; margin-bottom: 60px; font-size: 2.5rem;">Points Forts du Glacialis by Glacier<sup>®</sup></h2>

            <!-- Application TUYA -->
            <div style="background: white; border-radius: 20px; padding: 60px; margin-bottom: 40px; box-shadow: 0 10px 40px rgba(0,0,0,0.05);">
                <h3 style="font-size: 2rem; margin-bottom: 30px; color: #1e3c72;"><i class="fas fa-mobile-alt" style="margin-right: 15px;"></i>Application TUYA - Contrôle Total à Distance</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; margin-bottom: 30px;">
                    <div>
                        <h4 style="color: #2c5aa0; margin-bottom: 15px;">Fonctionnalités principales :</h4>
                        <ul style="list-style: none; padding: 0;">
                            <li style="margin-bottom: 10px;"><i class="fas fa-check-circle" style="color: #4CAF50; margin-right: 10px;"></i>Réglez la température à distance</li>
                            <li style="margin-bottom: 10px;"><i class="fas fa-check-circle" style="color: #4CAF50; margin-right: 10px;"></i>Programmez vos séances</li>
                            <li style="margin-bottom: 10px;"><i class="fas fa-check-circle" style="color: #4CAF50; margin-right: 10px;"></i>Suivez vos statistiques</li>
                            <li style="margin-bottom: 10px;"><i class="fas fa-check-circle" style="color: #4CAF50; margin-right: 10px;"></i>Notifications intelligentes</li>
                        </ul>
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px;">
                    <img src="images site/images/TUYA/01.webp" alt="TUYA App Screen 1" style="width: 100%; height: 240px; object-fit: cover; border-radius: 10px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
                    <img src="images site/images/TUYA/02.webp" alt="TUYA App Screen 2" style="width: 100%; height: 240px; object-fit: cover; border-radius: 10px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
                    <img src="images site/images/TUYA/05.webp" alt="TUYA App Screen 3" style="width: 100%; height: 240px; object-fit: cover; border-radius: 10px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
                    <img src="images site/images/TUYA/06.webp" alt="TUYA App Screen 4" style="width: 100%; height: 240px; object-fit: cover; border-radius: 10px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
                </div>
            </div>

            <!-- 2 Versions ICE et NON-ICE -->
            <div style="background: white; border-radius: 20px; padding: 60px; margin-bottom: 40px; box-shadow: 0 10px 40px rgba(0,0,0,0.05);">
                <h3 style="font-size: 2rem; margin-bottom: 30px; color: #1e3c72;"><i class="fas fa-snowflake" style="margin-right: 15px;"></i>Comparaison des 2 Versions</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 40px;">
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; border-radius: 15px;">
                        <h4 style="font-size: 1.5rem; margin-bottom: 15px;">❄️ Chiller ICE (CHU-10-RV)</h4>
                        <ul style="list-style: none; padding: 0;">
                            <li style="margin-bottom: 10px;"><strong>Température :</strong> 0°C à 40°C</li>
                            <li style="margin-bottom: 10px;"><strong>Puissance :</strong> 1.0HP</li>
                            <li style="margin-bottom: 10px;"><strong>Refroidissement :</strong> 2.81kW</li>
                            <li style="margin-bottom: 10px;"><strong>Particularité :</strong> Formation de glace</li>
                            <li style="margin-bottom: 10px;"><strong>Filtration :</strong> Double externe</li>
                            <li style="margin-bottom: 10px;"><strong>Prix :</strong> 5 499€</li>
                        </ul>
                    </div>
                    <div style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; padding: 30px; border-radius: 15px;">
                        <h4 style="font-size: 1.5rem; margin-bottom: 15px;">🌊 Chiller PREMIUM (CHM-10)</h4>
                        <ul style="list-style: none; padding: 0;">
                            <li style="margin-bottom: 10px;"><strong>Température :</strong> 3°C à 42°C</li>
                            <li style="margin-bottom: 10px;"><strong>Versions :</strong> 220V (RW) ou 110V (RV)</li>
                            <li style="margin-bottom: 10px;"><strong>Refroidissement :</strong> 2.51-3.05kW</li>
                            <li style="margin-bottom: 10px;"><strong>Particularité :</strong> Auto-amorçant</li>
                            <li style="margin-bottom: 10px;"><strong>Filtration :</strong> Interne intégrée</li>
                            <li style="margin-bottom: 10px;"><strong>Prix :</strong> 4 999€</li>
                        </ul>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 10px;">
                    <p style="font-size: 1.1rem; color: #333;">👆 Sélectionnez votre modèle en haut de page pour voir les détails complets</p>
                </div>
            </div>

            <!-- Plateau Échangeur 316SS -->
            <div style="background: white; border-radius: 20px; padding: 60px; margin-bottom: 40px; box-shadow: 0 10px 40px rgba(0,0,0,0.05);">
                <h3 style="font-size: 2rem; margin-bottom: 30px; color: #1e3c72;"><i class="fas fa-shield-alt" style="margin-right: 15px;"></i>Plateau Échangeur 316SS - Qualité Marine</h3>
                <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 40px; align-items: center;">
                    <div>
                        <h4 style="color: #2c5aa0; margin-bottom: 15px;">Acier Inoxydable Marin 316</h4>
                        <p style="margin-bottom: 20px;">Le summum de la résistance à la corrosion, utilisé dans l'industrie navale et médicale.</p>
                        <ul style="list-style: none; padding: 0;">
                            <li style="margin-bottom: 10px;"><i class="fas fa-check-circle" style="color: #4CAF50; margin-right: 10px;"></i>Résistance maximale à la corrosion</li>
                            <li style="margin-bottom: 10px;"><i class="fas fa-check-circle" style="color: #4CAF50; margin-right: 10px;"></i>Durabilité exceptionnelle</li>
                        </ul>
                    </div>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
                        <img src="images%20site/images/Modif%20site/chiller/Chiller%20ice%20prof.png" alt="Chiller ICE Professionnel" style="width: 100%; border-radius: 10px;">
                        <img src="images%20site/images/Modif%20site/chiller/Chiller%20prémium%20prof.png" alt="Chiller Premium Professionnel" style="width: 100%; border-radius: 10px;">
                    </div>
                </div>
            </div>

            <!-- Accessoires Inclus selon le modèle - SECTION MASQUÉE CAR INTÉGRÉE DANS LES CARTES -->
            <div style="display: none;">
                <h3 style="font-size: 2rem; margin-bottom: 30px; color: #1e3c72;"><i class="fas fa-box-open" style="margin-right: 15px;"></i>Accessoires Inclus avec votre Chiller</h3>

                <!-- Accessoires ICE -->
                <div id="ice-accessories" class="accessories-container">
                    <h4 style="color: #667eea; margin-bottom: 20px;">Accessoires Chiller ICE</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px; margin-bottom: 30px;">
                        <div style="text-align: center;">
                            <div style="background: #f8f9fa; border-radius: 10px; padding: 20px; margin-bottom: 10px;">
                                <i class="fas fa-filter" style="font-size: 2rem; color: #4A90E2;"></i>
                            </div>
                            <p style="font-weight: 600;">Filtre 5 pouces</p>
                            <p style="color: #666; font-size: 0.9rem;">Quantité: 1</p>
                        </div>
                        <div style="text-align: center;">
                            <div style="background: #f8f9fa; border-radius: 10px; padding: 20px; margin-bottom: 10px;">
                                <i class="fas fa-vial" style="font-size: 2rem; color: #4A90E2;"></i>
                            </div>
                            <p style="font-weight: 600;">Élément filtrant 5"</p>
                            <p style="color: #666; font-size: 0.9rem;">Quantité: 3</p>
                        </div>
                        <div style="text-align: center;">
                            <div style="background: #f8f9fa; border-radius: 10px; padding: 20px; margin-bottom: 10px;">
                                <i class="fas fa-wrench" style="font-size: 2rem; color: #4A90E2;"></i>
                            </div>
                            <p style="font-weight: 600;">Clé de filtre</p>
                            <p style="color: #666; font-size: 0.9rem;">Quantité: 1</p>
                        </div>
                        <div style="text-align: center;">
                            <div style="background: #f8f9fa; border-radius: 10px; padding: 20px; margin-bottom: 10px;">
                                <i class="fas fa-hard-hat" style="font-size: 2rem; color: #4A90E2;"></i>
                            </div>
                            <p style="font-weight: 600;">Casque de sécurité</p>
                            <p style="color: #666; font-size: 0.9rem;">Quantité: 1</p>
                        </div>
                        <div style="text-align: center;">
                            <div style="background: #f8f9fa; border-radius: 10px; padding: 20px; margin-bottom: 10px;">
                                <i class="fas fa-screwdriver" style="font-size: 2rem; color: #4A90E2;"></i>
                            </div>
                            <p style="font-weight: 600;">Tournevis plat</p>
                            <p style="color: #666; font-size: 0.9rem;">Quantité: 1</p>
                        </div>
                        <div style="text-align: center;">
                            <div style="background: #f8f9fa; border-radius: 10px; padding: 20px; margin-bottom: 10px;">
                                <i class="fas fa-hose" style="font-size: 2rem; color: #4A90E2;"></i>
                            </div>
                            <p style="font-weight: 600;">Tuyau d'eau</p>
                            <p style="color: #666; font-size: 0.9rem;">Quantité: 2</p>
                        </div>
                        <div style="text-align: center;">
                            <div style="background: #f8f9fa; border-radius: 10px; padding: 20px; margin-bottom: 10px;">
                                <i class="fas fa-network-wired" style="font-size: 2rem; color: #4A90E2;"></i>
                            </div>
                            <p style="font-weight: 600;">Filet de cheveux</p>
                            <p style="color: #666; font-size: 0.9rem;">Quantité: 1</p>
                        </div>
                        <div style="text-align: center;">
                            <div style="background: #f8f9fa; border-radius: 10px; padding: 20px; margin-bottom: 10px;">
                                <i class="fas fa-compress" style="font-size: 2rem; color: #4A90E2;"></i>
                            </div>
                            <p style="font-weight: 600;">Colliers de serrage</p>
                            <p style="color: #666; font-size: 0.9rem;">Quantité: 4</p>
                        </div>
                        <div style="text-align: center;">
                            <div style="background: #f8f9fa; border-radius: 10px; padding: 20px; margin-bottom: 10px;">
                                <i class="fas fa-tape" style="font-size: 2rem; color: #4A90E2;"></i>
                            </div>
                            <p style="font-weight: 600;">Ruban de plomberie</p>
                            <p style="color: #666; font-size: 0.9rem;">Quantité: 1</p>
                        </div>
                    </div>
                </div>

                <!-- Accessoires PREMIUM (cachés par défaut) -->
                <div id="premium-accessories" class="accessories-container" style="display: none;">
                    <h4 style="color: #f093fb; margin-bottom: 20px;">Accessoires Chiller PREMIUM</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px; margin-bottom: 30px;">
                        <div style="text-align: center;">
                            <div style="background: #f8f9fa; border-radius: 10px; padding: 20px; margin-bottom: 10px;">
                                <i class="fas fa-filter" style="font-size: 2rem; color: #f093fb;"></i>
                            </div>
                            <p style="font-weight: 600;">Filtre transparent</p>
                            <p style="color: #666; font-size: 0.9rem;">Quantité: 1</p>
                        </div>
                        <div style="text-align: center;">
                            <div style="background: #f8f9fa; border-radius: 10px; padding: 20px; margin-bottom: 10px;">
                                <i class="fas fa-wrench" style="font-size: 2rem; color: #f093fb;"></i>
                            </div>
                            <p style="font-weight: 600;">Clé de filtre</p>
                            <p style="color: #666; font-size: 0.9rem;">Quantité: 1</p>
                        </div>
                        <div style="text-align: center;">
                            <div style="background: #f8f9fa; border-radius: 10px; padding: 20px; margin-bottom: 10px;">
                                <i class="fas fa-hose" style="font-size: 2rem; color: #f093fb;"></i>
                            </div>
                            <p style="font-weight: 600;">Tuyau d'eau</p>
                            <p style="color: #666; font-size: 0.9rem;">Quantité: 2</p>
                        </div>
                        <div style="text-align: center;">
                            <div style="background: #f8f9fa; border-radius: 10px; padding: 20px; margin-bottom: 10px;">
                                <i class="fas fa-network-wired" style="font-size: 2rem; color: #f093fb;"></i>
                            </div>
                            <p style="font-weight: 600;">Filet de cheveux</p>
                            <p style="color: #666; font-size: 0.9rem;">Quantité: 1</p>
                        </div>
                        <div style="text-align: center;">
                            <div style="background: #f8f9fa; border-radius: 10px; padding: 20px; margin-bottom: 10px;">
                                <i class="fas fa-angle-right" style="font-size: 2rem; color: #f093fb;"></i>
                            </div>
                            <p style="font-weight: 600;">Adaptateur 90°</p>
                            <p style="color: #666; font-size: 0.9rem;">Quantité: 2</p>
                        </div>
                        <div style="text-align: center;">
                            <div style="background: #f8f9fa; border-radius: 10px; padding: 20px; margin-bottom: 10px;">
                                <i class="fas fa-exchange-alt" style="font-size: 2rem; color: #f093fb;"></i>
                            </div>
                            <p style="font-weight: 600;">Adaptateur</p>
                            <p style="color: #666; font-size: 0.9rem;">Quantité: 2</p>
                        </div>
                        <div style="text-align: center;">
                            <div style="background: #f8f9fa; border-radius: 10px; padding: 20px; margin-bottom: 10px;">
                                <i class="fas fa-ring" style="font-size: 2rem; color: #f093fb;"></i>
                            </div>
                            <p style="font-weight: 600;">Joint en caoutchouc</p>
                            <p style="color: #666; font-size: 0.9rem;">Quantité: 8</p>
                        </div>
                        <div style="text-align: center;">
                            <div style="background: #f8f9fa; border-radius: 10px; padding: 20px; margin-bottom: 10px;">
                                <i class="fas fa-tape" style="font-size: 2rem; color: #f093fb;"></i>
                            </div>
                            <p style="font-weight: 600;">Ruban de plomberie</p>
                            <p style="color: #666; font-size: 0.9rem;">Quantité: 1</p>
                        </div>
                        <div style="text-align: center;">
                            <div style="background: #f8f9fa; border-radius: 10px; padding: 20px; margin-bottom: 10px;">
                                <i class="fas fa-vial" style="font-size: 2rem; color: #f093fb;"></i>
                            </div>
                            <p style="font-weight: 600;">Élément filtrant 10"</p>
                            <p style="color: #666; font-size: 0.9rem;">Quantité: 2</p>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </section>

    <!-- Reviews Section -->
    <section id="reviews" class="reviews-section">
        <div class="container">
            <h2 class="section-title">Avis Clients Vérifiés</h2>
            <div class="reviews-grid">
                <div class="review-card">
                    <div class="review-header">
                        <div class="reviewer-info">
                            <strong>Thomas L.</strong>
                            <span>Athlète professionnel</span>
                        </div>
                        <div class="review-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                    </div>
                    <p>"Un game changer pour ma récupération. Je l'utilise tous les jours après mes entraînements. La possibilité d'atteindre 0°C est exceptionnelle."</p>
                    <span class="review-date">Acheté il y a 2 mois</span>
                </div>

                <div class="review-card">
                    <div class="review-header">
                        <div class="reviewer-info">
                            <strong>Sophie M.</strong>
                            <span>Propriétaire de spa</span>
                        </div>
                        <div class="review-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                    </div>
                    <p>"La qualité est exceptionnelle. Le design s'intègre parfaitement dans mon espace bien-être. Mes clients sont ravis de cette nouvelle installation."</p>
                    <span class="review-date">Acheté il y a 1 mois</span>
                </div>

                <div class="review-card">
                    <div class="review-header">
                        <div class="reviewer-info">
                            <strong>Marc D.</strong>
                            <span>Entrepreneur</span>
                        </div>
                        <div class="review-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                    </div>
                    <p>"Je souffrais de douleurs chroniques. Depuis que j'utilise ce bain glacé, ma qualité de vie s'est considérablement améliorée. L'investissement en vaut la peine."</p>
                    <span class="review-date">Acheté il y a 3 mois</span>
                </div>

                <div class="review-card">
                    <div class="review-header">
                        <div class="reviewer-info">
                            <strong>Julie P.</strong>
                            <span>Coach fitness</span>
                        </div>
                        <div class="review-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                    </div>
                    <p>"L'application mobile est géniale pour programmer mes séances. Le système est silencieux et l'eau reste propre longtemps. Parfait pour un usage quotidien."</p>
                    <span class="review-date">Acheté il y a 2 semaines</span>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section id="commander" class="product-cta">
        <div class="container">
            <div class="cta-box">
                <h2>Prêt à Transformer Votre Récupération ?</h2>
                <p>Choisissez entre nos deux modèles de chiller professionnels</p>
                <div class="cta-models" style="display: flex; gap: 30px; justify-content: center; margin: 30px 0;">
                    <div style="text-align: center;">
                        <h3 style="color: #667eea;">Chiller ICE</h3>
                        <span class="new-price">5&nbsp;499€</span>
                        <p style="font-size: 0.9rem; color: #666;">0°C - Formation de glace</p>
                    </div>
                    <div style="text-align: center;">
                        <h3 style="color: #f093fb;">Chiller PREMIUM</h3>
                        <span class="new-price">4&nbsp;999€</span>
                        <p style="font-size: 0.9rem; color: #666;">3°C - Auto-amorçant</p>
                    </div>
                </div>
                <div class="cta-buttons">
                    <button class="btn-primary-xl" onclick="scrollToSelector()">Configurer Mon Chiller</button>
                    <a href="index.html#contact-form" class="btn-secondary-xl">
                        <i class="fas fa-phone"></i> Parler à un Expert
                    </a>
                </div>
                <div class="cta-features">
                    <span><i class="fas fa-check"></i> Baignoire + Repose-pieds inclus</span>
                    <span><i class="fas fa-check"></i> Livraison & Installation</span>
                    <span><i class="fas fa-check"></i> Garantie 2 ans complète</span>
                    <span><i class="fas fa-check"></i> Application TUYA offerte</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <img src="images site/images/logo_glacier3.png" alt="Glacialis by Glacier®" class="footer-logo">
                    <p>Votre partenaire pour une récupération optimale par le froid.</p>
                </div>

                <div class="footer-links">
                    <h4>Produit</h4>
                    <ul>
                        <li><a href="#specifications">Spécifications</a></li>
                        <li><a href="#technology">Technologie</a></li>
                        <li><a href="#usage">Guide d'utilisation</a></li>
                        <li><a href="#reviews">Avis clients</a></li>
                    </ul>
                </div>

                <div class="footer-links">
                    <h4>Support</h4>
                    <ul>
                        <li><a href="#">FAQ</a></li>
                        <li><a href="#">Contact</a></li>
                    </ul>
                </div>

                <div class="footer-links">
                    <h4>Entreprise</h4>
                    <ul>
                        <li><a href="index.html">Accueil</a></li>
                        <li><a href="#">Blog</a></li>
                    </ul>
                </div>
            </div>

            <div class="footer-bottom">
                <p>&copy; 2024 Glacier Store. Tous droits réservés.</p>
                <div class="footer-legal">
                    <a href="mentions-legales.html">Mentions légales</a>
                    <a href="politique-confidentialite.html">Politique de confidentialité</a>
                    <a href="cgv.html">CGV</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Variable globale pour le modèle sélectionné (attachée à window pour être accessible depuis cart.js)
        window.selectedChillerModel = 'ice';

        // Fonction pour sélectionner un modèle de chiller
        function selectChillerModel(model) {
            window.selectedChillerModel = model;
            console.log('Modèle sélectionné:', model); // Log pour debug

            // Mise à jour des cartes de chiller avec animation
            document.querySelectorAll('.selection-options .option-card').forEach(card => {
                if (card.dataset.model) {
                    card.classList.remove('selected');
                }
            });

            const selectedCard = document.querySelector(`[data-model="${model}"]`);
            if (selectedCard) {
                selectedCard.classList.add('selected');
            }

            // Mise à jour du récapitulatif avec animation
            const chillerNameElement = document.getElementById('selected-chiller-name');
            const totalPriceElement = document.getElementById('total-price');
            const priceElement = document.getElementById('selected-price');
            const priceInfoElement = document.getElementById('price-info');

            if (chillerNameElement && totalPriceElement) {
                totalPriceElement.style.opacity = '0.5';
                chillerNameElement.style.opacity = '0.5';

                setTimeout(() => {
                    if (model === 'ice') {
                        chillerNameElement.textContent = 'Chiller ICE (0°C)';
                        totalPriceElement.textContent = '5 499€';
                        if (priceElement) priceElement.innerHTML = '5&nbsp;499€';
                        if (priceInfoElement) priceInfoElement.textContent = '';
                    } else {
                        chillerNameElement.textContent = 'Chiller PREMIUM (3-42°C)';
                        totalPriceElement.textContent = '4 999€';
                        if (priceElement) priceElement.innerHTML = '4&nbsp;999€';
                        if (priceInfoElement) priceInfoElement.textContent = '';
                    }
                    totalPriceElement.style.opacity = '1';
                    chillerNameElement.style.opacity = '1';
                    if (priceElement) priceElement.style.opacity = '1';
                }, 200);
            }

            // Mise à jour de l'image principale du produit
            const mainImage = document.getElementById('mainProductImage');
            if (mainImage) {
                if (model === 'ice') {
                    mainImage.src = 'images site/images/Modif site/chiller/Chiller ice pose.png';
                    mainImage.alt = 'Chiller ICE by Glacier®';
                } else {
                    mainImage.src = 'images site/images/Modif site/chiller/Chiller premium pose.png';
                    mainImage.alt = 'Chiller PREMIUM by Glacier®';
                }
            }

            // Mise à jour de l'image du filtre dans l'upsell
            const upsellFilterImage = document.getElementById('upsell-filter-image');
            if (upsellFilterImage) {
                if (model === 'ice') {
                    upsellFilterImage.src = 'images%20site/images/Modif%20site/filtre%20et%20couv/Filtre%20blanc.png';
                    upsellFilterImage.alt = 'Filtre ICE';
                    console.log('Image filtre changée pour ICE: Filtre blanc.png');
                } else {
                    upsellFilterImage.src = 'images%20site/images/Modif%20site/filtre%20et%20couv/cartridge_filter.png';
                    upsellFilterImage.alt = 'Filtre PREMIUM';
                    console.log('Image filtre changée pour PREMIUM: cartridge_filter.png');
                }
            }

            // Mise à jour de l'information dynamique
            const infoSection = document.getElementById('dynamic-model-info');
            const modelTitle = document.getElementById('selected-model-title');
            const minTemp = document.getElementById('min-temp');
            const usage = document.getElementById('usage');
            const filtration = document.getElementById('filtration');

            if (model === 'ice') {
                // Seulement mettre à jour si les éléments existent
                if (modelTitle) modelTitle.textContent = '';
                if (minTemp) minTemp.textContent = '';
                if (usage) usage.textContent = '';
                if (filtration) filtration.textContent = '';

                // Mise à jour des points forts - FORCE DEPLOYMENT
                const pointsFortsHeading = Array.from(document.querySelectorAll('h3')).find(h => h.textContent === 'Points forts');
                if (pointsFortsHeading && pointsFortsHeading.nextElementSibling) {
                    pointsFortsHeading.nextElementSibling.innerHTML = `
                        <li><i class="fas fa-thermometer-empty"></i> <strong>Température 0°C à 40°C</strong> - Formation de glace</li>
                        <li><i class="fas fa-bolt"></i> Système de refroidissement 1.0HP haute performance</li>
                        <li><i class="fas fa-snowflake"></i> Capacité de refroidissement 2.81kW</li>
                        <li><i class="fas fa-filter"></i> Double filtration externe installée</li>
                        <li><i class="fas fa-mobile-alt"></i> Contrôle via application mobile TUYA</li>
                        <li><i class="fas fa-shield-alt"></i> Garantie 2 ans complète</li>
                    `;
                }

                // Mise à jour du prix
                const selectedPriceElement = document.getElementById('selected-price');
                const priceInfoElement = document.getElementById('price-info');
                if (selectedPriceElement) {
                    selectedPriceElement.textContent = '5 499€';
                }
                if (priceInfoElement) {
                    priceInfoElement.textContent = '';
                }

                // Afficher les specs ICE
                const iceSpecsElement = document.getElementById('ice-specs');
                const premiumSpecsElement = document.getElementById('premium-specs');
                if (iceSpecsElement) iceSpecsElement.style.display = 'block';
                if (premiumSpecsElement) premiumSpecsElement.style.display = 'none';

            } else if (model === 'premium') {
                // Seulement mettre à jour si les éléments existent
                if (modelTitle) modelTitle.textContent = '';
                if (minTemp) minTemp.textContent = '';
                if (usage) usage.textContent = '';
                if (filtration) filtration.textContent = '';

                // Mise à jour des points forts - FORCE DEPLOYMENT
                const pointsFortsHeading = Array.from(document.querySelectorAll('h3')).find(h => h.textContent === 'Points forts');
                if (pointsFortsHeading && pointsFortsHeading.nextElementSibling) {
                    pointsFortsHeading.nextElementSibling.innerHTML = `
                        <li><i class="fas fa-thermometer-half"></i> <strong>Température 3°C à 42°C</strong> - Chaud et froid</li>
                        <li><i class="fas fa-bolt"></i> Système de refroidissement 1.5HP haute performance</li>
                        <li><i class="fas fa-water"></i> Système auto-amorçant intégré</li>
                        <li><i class="fas fa-filter"></i> Filtration interne avec filtre 10 pouces</li>
                        <li><i class="fas fa-mobile-alt"></i> Contrôle via application mobile TUYA</li>
                        <li><i class="fas fa-shield-alt"></i> Garantie 2 ans complète</li>
                    `;
                }

                // Mise à jour du prix
                const selectedPriceElement2 = document.getElementById('selected-price');
                const priceInfoElement2 = document.getElementById('price-info');
                if (selectedPriceElement2) {
                    selectedPriceElement2.textContent = '4 999€';
                }
                if (priceInfoElement2) {
                    priceInfoElement2.textContent = '';
                }

                // Afficher les specs PREMIUM
                const iceSpecsElement2 = document.getElementById('ice-specs');
                const premiumSpecsElement2 = document.getElementById('premium-specs');
                if (iceSpecsElement2) iceSpecsElement2.style.display = 'none';
                if (premiumSpecsElement2) premiumSpecsElement2.style.display = 'block';
            }

            // Mise à jour des accessoires affichés
            const iceAccessories = document.getElementById('ice-accessories');
            const premiumAccessories = document.getElementById('premium-accessories');

            if (model === 'ice' && iceAccessories && premiumAccessories) {
                iceAccessories.style.display = 'block';
                premiumAccessories.style.display = 'none';
            } else if (model === 'premium' && iceAccessories && premiumAccessories) {
                iceAccessories.style.display = 'none';
                premiumAccessories.style.display = 'block';
            }

            // Mise à jour des images du chiller
            const iceImages = document.getElementById('ice-images');
            const premiumImages = document.getElementById('premium-images');

            if (model === 'ice' && iceImages && premiumImages) {
                iceImages.style.display = 'block';
                premiumImages.style.display = 'none';
            } else if (model === 'premium' && iceImages && premiumImages) {
                iceImages.style.display = 'none';
                premiumImages.style.display = 'block';
            }

            if (infoSection) infoSection.classList.add('active');
        }

        // Fonction pour ajouter le pack complet au panier
        function addCompletePackToCart() {
            // Utilisation de la fonction addToCart du ShoppingCart
            if (window.glacierCart && typeof window.glacierCart.addToCart === 'function') {
                // Ajouter le produit principal
                window.glacierCart.addToCart();

                // Vérifier et ajouter les options sélectionnées
                const filterCheckbox = document.querySelector('input[data-option="filter"]');
                const coverCheckbox = document.querySelector('input[data-option="cover"]');

                // Ajouter l'option filtration si cochée
                if (filterCheckbox && filterCheckbox.checked) {
                    // Get selected model to determine filter image
                    const selectedModel = window.selectedChillerModel || 'ice';
                    const filterImage = selectedModel === 'premium'
                        ? '/images%20site/images/Modif%20site/filtre%20et%20couv/cartridge_filter.png'
                        : '/images%20site/images/Modif%20site/filtre%20et%20couv/Filtre%20blanc.png';

                    // Add as bundle type to allow quantity controls
                    const filtrationOption = {
                        id: 'option-filtration',
                        name: 'Élément filtrant Premium (Pack)',
                        price: 1.5,
                        quantity: 1,
                        type: 'bundle',
                        image: filterImage
                    };

                    // Check if already exists
                    const existing = window.glacierCart.items.find(i => i.id === filtrationOption.id);
                    if (!existing) {
                        window.glacierCart.items.push(filtrationOption);
                        window.glacierCart.saveCart();
                        window.glacierCart.updateCartUI();
                    }
                }

                // Ajouter l'option couverture si cochée
                if (coverCheckbox && coverCheckbox.checked) {
                    // Add as bundle type to allow quantity controls
                    const coverOption = {
                        id: 'option-cover',
                        name: 'Couverture Isolante Premium (Pack)',
                        price: 199,
                        quantity: 1,
                        type: 'bundle',
                        image: '/images%20site/images/Modif%20site/filtre%20et%20couv/IMG_couvd.jpg.png'
                    };

                    // Check if already exists
                    const existing = window.glacierCart.items.find(i => i.id === coverOption.id);
                    if (!existing) {
                        window.glacierCart.items.push(coverOption);
                        window.glacierCart.saveCart();
                        window.glacierCart.updateCartUI();
                    }
                }
            } else {
                // Fallback si le cart n'est pas encore chargé
                setTimeout(addCompletePackToCart, 100);
            }
        }

        // Alias global pour compatibilité
        window.addPackToCart = addCompletePackToCart;

        // Fonction pour scroller jusqu'au sélecteur
        function scrollToSelector() {
            const selector = document.querySelector('.chiller-model-selector');
            if (selector) {
                selector.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }

        // Fonction pour ajouter le Pack ICE au panier
        function addPackIceToCart() {
            // Vérifier que le système de panier est disponible
            if (!window.glacierCart) {
                // Initialiser le panier si nécessaire
                window.glacierCart = window.glacierCart || {
                    items: [],
                    saveCart: function() {
                        localStorage.setItem('glacierCart', JSON.stringify(this.items));
                    },
                    updateCartUI: function() {
                        const cartCount = document.querySelector('.cart-count');
                        if (cartCount) {
                            const totalItems = this.items.reduce((sum, item) => sum + (item.quantity || 1), 0);
                            cartCount.textContent = totalItems;
                        }
                    }
                };
            }

            // Créer l'objet pack ICE
            const packIce = {
                id: 'pack-ice-complete',
                name: 'Pack ICE Complet',
                description: '1 Chiller ICE + 5 Éléments filtrants + 1 Couverture Premium',
                price: 5600,
                quantity: 1,
                type: 'pack',
                image: 'images%20site/images/Modif%20site/chiller/Chiller%20ice%20prof.png'
            };

            // Vérifier si le pack existe déjà dans le panier
            const existingIndex = window.glacierCart.items.findIndex(i => i.id === packIce.id);
            if (existingIndex !== -1) {
                // Augmenter la quantité si le pack existe déjà
                window.glacierCart.items[existingIndex].quantity = (window.glacierCart.items[existingIndex].quantity || 1) + 1;
            } else {
                // Ajouter le nouveau pack au panier
                window.glacierCart.items.push(packIce);
            }

            // Sauvegarder et mettre à jour l'interface
            window.glacierCart.saveCart();
            window.glacierCart.updateCartUI();

            // Animation du bouton
            const button = event.target.closest('button');
            if (button) {
                const originalText = button.innerHTML;
                button.innerHTML = '<i class="fas fa-check" style="margin-right: 5px;"></i> Ajouté !';
                button.style.background = 'linear-gradient(135deg, #4CAF50, #45B049)';
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
                }, 1500);
            }

            // Message de confirmation discret
            console.log('Pack ICE ajouté au panier');
        }

        // Fonction pour ajouter le Pack Premium au panier
        function addPackPremiumToCart() {
            // Vérifier que le système de panier est disponible
            if (!window.glacierCart) {
                // Initialiser le panier si nécessaire
                window.glacierCart = window.glacierCart || {
                    items: [],
                    saveCart: function() {
                        localStorage.setItem('glacierCart', JSON.stringify(this.items));
                    },
                    updateCartUI: function() {
                        const cartCount = document.querySelector('.cart-count');
                        if (cartCount) {
                            const totalItems = this.items.reduce((sum, item) => sum + (item.quantity || 1), 0);
                            cartCount.textContent = totalItems;
                        }
                    }
                };
            }

            // Créer l'objet pack Premium
            const packPremium = {
                id: 'pack-premium-complete',
                name: 'Pack PREMIUM Complet',
                description: '1 Chiller Premium + 5 Éléments filtrants + 1 Couverture Premium',
                price: 5100,
                quantity: 1,
                type: 'pack',
                image: 'images%20site/images/Modif%20site/chiller/Chiller%20prémium%20prof.png'
            };

            // Vérifier si le pack existe déjà dans le panier
            const existingIndex = window.glacierCart.items.findIndex(i => i.id === packPremium.id);
            if (existingIndex !== -1) {
                // Augmenter la quantité si le pack existe déjà
                window.glacierCart.items[existingIndex].quantity = (window.glacierCart.items[existingIndex].quantity || 1) + 1;
            } else {
                // Ajouter le nouveau pack au panier
                window.glacierCart.items.push(packPremium);
            }

            // Sauvegarder et mettre à jour l'interface
            window.glacierCart.saveCart();
            window.glacierCart.updateCartUI();

            // Animation du bouton
            const button = event.target.closest('button');
            if (button) {
                const originalText = button.innerHTML;
                button.innerHTML = '<i class="fas fa-check" style="margin-right: 5px;"></i> Ajouté !';
                button.style.background = 'linear-gradient(135deg, #4CAF50, #45B049)';
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.style.background = 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)';
                }, 1500);
            }

            // Message de confirmation discret
            console.log('Pack PREMIUM ajouté au panier');
        }

        // Carousel functionality
        let currentCarouselIndex = 0;
        const carouselImages = document.querySelectorAll('.carousel-image');
        const totalImages = carouselImages.length;
        let carouselInterval;

        // Initialize carousel
        function initCarousel() {
            // Create dots
            const dotsContainer = document.getElementById('carousel-dots');
            if (dotsContainer) {
                for (let i = 0; i < totalImages; i++) {
                    const dot = document.createElement('span');
                    dot.className = 'carousel-dot' + (i === 0 ? ' active' : '');
                    dot.onclick = () => goToSlide(i);
                    dotsContainer.appendChild(dot);
                }
            }

            // Start auto-play
            startAutoPlay();
        }

        // Move carousel
        function moveCarousel(direction) {
            currentCarouselIndex = (currentCarouselIndex + direction + totalImages) % totalImages;
            updateCarousel();
            restartAutoPlay();
        }

        // Go to specific slide
        function goToSlide(index) {
            currentCarouselIndex = index;
            updateCarousel();
            restartAutoPlay();
        }

        // Update carousel display
        function updateCarousel() {
            // Update images
            carouselImages.forEach((img, index) => {
                img.classList.toggle('active', index === currentCarouselIndex);
            });

            // Update dots
            const dots = document.querySelectorAll('.carousel-dot');
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentCarouselIndex);
            });
        }

        // Auto-play functionality
        function startAutoPlay() {
            carouselInterval = setInterval(() => {
                moveCarousel(1);
            }, 5000); // Change image every 5 seconds
        }

        function stopAutoPlay() {
            clearInterval(carouselInterval);
        }

        function restartAutoPlay() {
            stopAutoPlay();
            startAutoPlay();
        }

        // Initialize carousel on page load
        document.addEventListener('DOMContentLoaded', initCarousel);

        // Tab functionality
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const tabName = btn.dataset.tab;

                // Update buttons
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');

                // Update content
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.remove('active');
                });
                const tabContent = document.getElementById(tabName);
                if (tabContent) {
                    tabContent.classList.add('active');
                }
            });
        });

        // Quantity selector
        const qtyMinus = document.querySelector('.qty-btn.minus');
        if (qtyMinus) {
            qtyMinus.addEventListener('click', () => {
                const input = document.querySelector('.qty-input');
                if (input && input.value > 1) {
                    input.value = parseInt(input.value) - 1;
                }
            });
        }

        const qtyPlus = document.querySelector('.qty-btn.plus');
        if (qtyPlus) {
            qtyPlus.addEventListener('click', () => {
                const input = document.querySelector('.qty-input');
                if (input) {
                    input.value = parseInt(input.value) + 1;
                }
            });
        }

        // Mobile menu
        const mobileToggle = document.querySelector('.mobile-toggle');
        if (mobileToggle) {
            mobileToggle.addEventListener('click', function() {
                this.classList.toggle('active');
                const navCenter = document.querySelector('.nav-center');
                if (navCenter) {
                    navCenter.classList.toggle('active');
                }
            });
        }

        // Toggle switches functionality
        // Note: upsellOptions is already defined earlier in the page for overlay functionality

        let selectedOptions = {};

        // Handle toggle switches
        document.querySelectorAll('.option-toggle').forEach(toggle => {
            toggle.addEventListener('change', function() {
                const optionId = this.dataset.option;
                if (this.checked) {
                    selectedOptions[optionId] = upsellOptions[optionId];
                } else {
                    delete selectedOptions[optionId];
                }
                updateTotalPrice();
            });
        });

        // Handle option card clicks for overlay
        document.querySelectorAll('.toggle-option-card').forEach(option => {
            option.addEventListener('click', function(e) {
                // Don't trigger if clicking on the toggle switch
                if (!e.target.closest('.toggle-switch')) {
                    const optionId = this.dataset.option;
                    showOptionOverlay(optionId);
                }
            });
        });

        // Note: Overlay functions (showOptionOverlay, closeOptionOverlay) are already defined earlier in the page

        // Function to update filter image based on selected chiller model
        function updateFilterOptionImage() {
            const filterImage = document.getElementById('filter-option-image');
            if (filterImage) {
                const model = window.selectedChillerModel || 'ice';
                // Update alt text to indicate which chiller model the filter is for
                filterImage.alt = `Élément filtrant pour Chiller ${model === 'ice' ? 'ICE' : 'PREMIUM'}`;
                // Could potentially use different images if available
                // For now, using the same image for both models
            }
        }

        // Modal functionality for Options Additionnelles
        const optionDetails = {
            filter: {
                title: 'Élément filtrant',
                price: 1.5,
                description: 'Kit de filtration complet pour maintenir une eau propre et claire. Comprend le système de filtration avec cartouches remplaçables pour une purification optimale de l\'eau.',
                features: [
                    'Double filtration externe',
                    'Eau pure et cristalline',
                    'Élimine 99,9% des impuretés',
                    'Cartouches remplaçables',
                    'Installation facile'
                ],
                imageIce: 'images site/images/Modif site/filtre et couv/Filtre blanc.png',
                imagePremium: 'images site/images/Modif site/filtre et couv/cartridge_filter.png'
            },
            cover: {
                title: 'Couverture Premium',
                price: 199,
                description: 'Couverture isolante haute qualité pour protéger votre bain et conserver la température. Réduit les pertes thermiques et protège l\'eau des impuretés extérieures.',
                features: [
                    'Isolation thermique optimale',
                    'Protection UV intégrée',
                    'Matériaux durables',
                    'Facile à installer et retirer',
                    'Maintien de la température'
                ],
                image: 'images site/images/Modif site/filtre et couv/IMG_couvd.jpg.png'
            },
            footrest: {
                title: 'Repose-Pieds en Bois de Cèdre GLACIALIS',
                price: 0,
                description: 'Repose-pieds ergonomique en bois naturel premium, spécialement conçu pour votre baignoire GLACIALIS. Fabriqué avec du bois de première qualité traité pour résister à l\'humidité, il offre un confort optimal et une stabilité maximale pendant vos séances de thérapie par le froid.',
                features: [
                    'Bois naturel premium avec traitement hydrofuge',
                    'Design ergonomique pour un confort optimal',
                    'Surface antidérapante pour votre sécurité',
                    'Dimensions parfaitement adaptées à la baignoire GLACIALIS',
                    'Résistance exceptionnelle à l\'humidité et au froid',
                    'Finition soignée et esthétique élégante',
                    'Installation simple sans outils',
                    'Entretien minimal requis',
                    'Garantie 2 ans incluse',
                    'INCLUS dans votre pack GLACIALIS'
                ],
                image: 'images site/images/Modif site/bois/10..jpg'
            },
            filterICE: {
                title: 'Filtre 5 pouces',
                price: 0,
                description: 'Filtre haute performance de 5 pouces pour le Chiller ICE. Assure une filtration optimale de l\'eau pour maintenir une pureté cristalline.',
                features: [
                    'Filtration 5 pouces haute capacité',
                    'Élimine les particules fines',
                    'Longue durée de vie',
                    'Compatible Chiller ICE',
                    'Inclus dans le pack'
                ],
                image: 'images site/images/Modif site/chiller/Accessoire ICE/Filtre 5 pouces ICE.png'
            },
            keyFilterICE: {
                title: 'Clé à Filtre',
                price: 0,
                description: 'Clé spécialement conçue pour faciliter l\'installation et le changement du filtre.',
                features: [
                    'Ergonomique et robuste',
                    'Facilite le changement de filtre',
                    'Matériau résistant',
                    'Inclus dans le pack'
                ],
                image: 'images site/images/Modif site/chiller/Accessoire ICE/Clé à filtre ICE.png'
            },
            keyGridICE: {
                title: 'Clé à Grille Filtrante',
                price: 0,
                description: 'Outil spécialisé pour l\'entretien de la grille filtrante.',
                features: [
                    'Accès facile à la grille',
                    'Maintenance simplifiée',
                    'Construction durable',
                    'Inclus dans le pack'
                ],
                image: 'images site/images/Modif site/chiller/Accessoire ICE/Clé à Grille filtrante ICE.png'
            },
            screwdriverICE: {
                title: 'Tournevis Plat',
                price: 0,
                description: 'Tournevis plat professionnel pour l\'assemblage et la maintenance.',
                features: [
                    'Manche ergonomique',
                    'Acier trempé',
                    'Usage professionnel',
                    'Inclus dans le pack'
                ],
                image: 'images site/images/Modif site/chiller/Accessoire ICE/Tourne vise plate ICE.png'
            },
            pipesICE: {
                title: 'Tuyaux d\'Eau (x2)',
                price: 0,
                description: 'Ensemble de deux tuyaux haute qualité pour la circulation optimale de l\'eau.',
                features: [
                    'Matériau résistant au froid',
                    'Connexions étanches',
                    'Longueur optimale',
                    'Inclus dans le pack'
                ],
                image: 'images site/images/Modif site/chiller/Accessoire ICE/Tuyau d\'eau ICE.png'
            },
            gridICE: {
                title: 'Grille Filtrante',
                price: 0,
                description: 'Grille de filtration pour retenir les plus grosses particules.',
                features: [
                    'Maillage fin',
                    'Acier inoxydable',
                    'Facile à nettoyer',
                    'Inclus dans le pack'
                ],
                image: 'images site/images/Modif site/chiller/Accessoire ICE/Grille filtrante ICE.png'
            },
            clampsICE: {
                title: 'Colliers de Serrage (x4)',
                price: 0,
                description: 'Set de 4 colliers de serrage professionnels pour connexions sécurisées.',
                features: [
                    'Acier inoxydable',
                    'Serrage optimal',
                    'Anti-fuite',
                    'Inclus dans le pack'
                ],
                image: 'images site/images/Modif site/chiller/Accessoire ICE/Ceinture ICE.png'
            },
            teflonICE: {
                title: 'Ruban Téflon',
                price: 0,
                description: 'Ruban téflon professionnel pour étanchéité parfaite des raccords.',
                features: [
                    'Étanchéité garantie',
                    'Résistant à l\'eau froide',
                    'Usage professionnel',
                    'Inclus dans le pack'
                ],
                image: 'images site/images/Modif site/chiller/Accessoire ICE/ruban téflon. ICE.png'
            },
            filterPremium: {
                title: 'Filtre Transparent',
                price: 0,
                description: 'Filtre transparent haute performance pour le Chiller PREMIUM.',
                features: [
                    'Corps transparent',
                    'Visualisation du niveau de saleté',
                    'Cartouche haute capacité',
                    'Inclus dans le pack'
                ],
                image: 'images site/images/Modif site/chiller/Accessoire Premium/Filtre NON ICE.png'
            },
            keyFilterPremium: {
                title: 'Clé à Filtre Premium',
                price: 0,
                description: 'Clé ergonomique pour le système de filtration PREMIUM.',
                features: [
                    'Design ergonomique',
                    'Compatible filtre transparent',
                    'Matériau robuste',
                    'Inclus dans le pack'
                ],
                image: 'images site/images/Modif site/chiller/Accessoire Premium/Clé à filtre NON ICE.png'
            },
            pipesPremium: {
                title: 'Tuyaux d\'Eau Premium (x2)',
                price: 0,
                description: 'Tuyaux renforcés pour le système PREMIUM.',
                features: [
                    'Qualité supérieure',
                    'Flexibles et résistants',
                    'Raccords rapides',
                    'Inclus dans le pack'
                ],
                image: 'images site/images/Modif site/chiller/Accessoire Premium/tuyaux d\'eau NON ICE.png'
            },
            gridPremium: {
                title: 'Grille Filtrante Premium',
                price: 0,
                description: 'Grille de filtration haute performance pour système PREMIUM.',
                features: [
                    'Filtration optimisée',
                    'Matériaux premium',
                    'Longue durée de vie',
                    'Inclus dans le pack'
                ],
                image: 'images site/images/Modif site/chiller/Accessoire Premium/Grille Filtrante NON ICE.png'
            },
            adapter90Premium: {
                title: 'Adaptateurs 90° (x2)',
                price: 0,
                description: 'Adaptateurs coudés pour installation optimale.',
                features: [
                    'Angle 90° précis',
                    'Connexion sécurisée',
                    'Matériau durable',
                    'Inclus dans le pack'
                ],
                image: 'images site/images/Modif site/chiller/Accessoire Premium/Adapteur 90° NON ICE.png'
            },
            adapterPremium: {
                title: 'Adaptateurs Standard (x2)',
                price: 0,
                description: 'Adaptateurs de connexion pour système PREMIUM.',
                features: [
                    'Compatibilité universelle',
                    'Étanchéité parfaite',
                    'Installation facile',
                    'Inclus dans le pack'
                ],
                image: 'images site/images/Modif site/chiller/Accessoire Premium/Adapteur NON ICE.png'
            },
            jointsPremium: {
                title: 'Joints en Caoutchouc (x8)',
                price: 0,
                description: 'Set complet de 8 joints pour étanchéité parfaite.',
                features: [
                    'Caoutchouc haute qualité',
                    'Résistant au froid et chaud',
                    'Étanchéité garantie',
                    'Inclus dans le pack'
                ],
                image: 'images site/images/Modif site/chiller/Accessoire Premium/Joint en caoutchouc NON ICE.png'
            },
            teflonPremium: {
                title: 'Ruban Téflon Premium',
                price: 0,
                description: 'Ruban téflon professionnel haute qualité.',
                features: [
                    'Grade professionnel',
                    'Résistance extrême',
                    'Étanchéité optimale',
                    'Inclus dans le pack'
                ],
                image: 'images site/images/Modif site/chiller/Accessoire Premium/ruban téflon NON ICE.png'
            }
        };

        // Function to open the modal with option details - UPDATED 2024-12-19 v4
        function openOptionModal(optionType) {
            console.log('=== VERSION 4 - INCLUS FIX LOADED ===');
            const modal = document.getElementById('option-modal');
            const option = optionDetails[optionType];

            if (modal && option) {
                // Set image based on option and selected model
                const modalImage = document.getElementById('modal-image');
                if (optionType === 'filter') {
                    const selectedModel = window.selectedChillerModel || 'ice';
                    modalImage.src = selectedModel === 'premium' ? option.imagePremium : option.imageIce;
                } else {
                    modalImage.src = option.image;
                }

                // Set title, description, and price
                document.getElementById('modal-title').textContent = option.title;
                document.getElementById('modal-description').textContent = option.description;

                // Debug logging
                console.log('DEBUG: option.price =', option.price, 'type:', typeof option.price);
                console.log('DEBUG: option.price === 0?', option.price === 0);

                // Pour les accessoires inclus (prix = 0), afficher "Inclus" au lieu de "0€"
                // VERSION 2024.12.19.1 - Force cache refresh
                const priceElement = document.getElementById('modal-price');
                if (option.price === 0) {
                    console.log('DEBUG v2: Setting price to Inclus for', option.title);
                    priceElement.textContent = 'Inclus';
                    priceElement.style.color = '#4CAF50';
                    priceElement.style.fontWeight = 'bold';
                } else {
                    console.log('DEBUG v2: Setting price to', option.price + '€');
                    priceElement.textContent = option.price + '€';
                    priceElement.style.color = '#333';
                    priceElement.style.fontWeight = 'normal';
                }

                // Set features list
                const featuresList = document.getElementById('modal-features');
                featuresList.innerHTML = '';
                option.features.forEach(feature => {
                    const li = document.createElement('li');
                    li.style.cssText = 'padding: 8px 0; color: #555; display: flex; align-items: center;';
                    li.innerHTML = '<i class="fas fa-check" style="color: #4CAF50; margin-right: 10px;"></i>' + feature;
                    featuresList.appendChild(li);
                });

                // Show modal with animation
                modal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            }
        }

        // Function to close the modal
        function closeOptionModal() {
            const modal = document.getElementById('option-modal');
            if (modal) {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        }

        // Initialize option titles with modal trigger
        (function() {
            function initializeOptionTitles() {
                console.log('Initializing option titles with modal...');
                const titles = document.querySelectorAll('.option-title');
                console.log('Found ' + titles.length + ' option titles');

                titles.forEach(title => {
                    // Style title to show it's clickable
                    title.style.cursor = 'pointer';

                    // Add hover effect
                    title.addEventListener('mouseenter', function() {
                        this.style.color = '#4A90E2';
                    });
                    title.addEventListener('mouseleave', function() {
                        this.style.color = '#333';
                    });

                    title.addEventListener('click', function(e) {
                        e.stopPropagation();
                        e.preventDefault();

                        const optionType = this.dataset.option;
                        console.log('Opening modal for:', optionType);
                        openOptionModal(optionType);
                    });
                });

                // Close modal when clicking outside
                const modal = document.getElementById('option-modal');
                if (modal) {
                    modal.addEventListener('click', function(e) {
                        if (e.target === this) {
                            closeOptionModal();
                        }
                    });
                }
            }

            // Use multiple methods to ensure initialization
            if (document.readyState === 'complete' || document.readyState === 'interactive') {
                initializeOptionTitles();
            } else {
                document.addEventListener('DOMContentLoaded', initializeOptionTitles);
            }

            // Fallback: also initialize on window load
            window.addEventListener('load', initializeOptionTitles);

            // Make functions globally available
            window.initializeOptionTitles = initializeOptionTitles;
            window.openOptionModalV3 = openOptionModalV3;
            window.closeOptionModal = closeOptionModal;

            // Removed alias - all accessories now use openOptionModalV3 directly
        })();

        // Listen for chiller model changes to update filter image if it's visible
        const originalSelectModel = window.selectModel;
        window.selectModel = function(model) {
            if (originalSelectModel) {
                originalSelectModel(model);
            }

            // Update filter image if it's currently displayed
            const filterContainer = document.querySelector('[data-option="filter"] .option-image-container');
            if (filterContainer && filterContainer.style.display !== 'none') {
                updateFilterOptionImage();
            }
        }

        // Update total price based on selected options
        function updateTotalPrice() {
            const basePrice = window.selectedChillerModel === 'ice' ? 5499 : 4999;
            let optionsPrice = 0;

            Object.values(selectedOptions).forEach(option => {
                optionsPrice += option.price;
            });

            const totalPrice = basePrice + optionsPrice;

            // Update display
            const totalElement = document.getElementById('total-price');
            if (totalElement) {
                totalElement.textContent = totalPrice.toLocaleString('fr-FR') + '€';
            }

            // Update configuration summary if needed
            updateConfigurationSummary();
        }

        // Update configuration summary with selected options
        function updateConfigurationSummary() {
            // This can be extended to show selected options in the summary section
            const summaryContainer = document.querySelector('.configuration-summary .summary-items');
            if (summaryContainer) {
                // Clear existing option items
                summaryContainer.querySelectorAll('.option-item').forEach(item => item.remove());

                // Add selected options
                Object.entries(selectedOptions).forEach(([id, option]) => {
                    const item = document.createElement('div');
                    item.className = 'summary-item option-item';
                    item.innerHTML = `
                        <span class="summary-item-name">${option.name}</span>
                        <span class="summary-item-price">+${option.price}€</span>
                    `;
                    summaryContainer.appendChild(item);
                });
            }
        }

        // Sticky Carousel - Version améliorée avec transition fluide
        function initializeStickyCarousel() {
            console.log('🚀 Starting sticky carousel initialization...');

            const carousel = document.querySelector('.product-gallery');
            if (!carousel) {
                console.log('❌ Carousel element not found');
                return;
            }

            console.log('✅ Carousel element found');

            let isSticky = false;
            let isTransitioning = false;
            let originalPosition = null;

            function handleScroll() {
                // Désactiver le sticky sur mobile (écrans < 768px)
                if (window.innerWidth < 768) {
                    // Si le sticky est actuellement actif, le désactiver
                    if (isSticky) {
                        carousel.style.position = 'relative';
                        carousel.style.top = 'auto';
                        carousel.style.left = 'auto';
                        carousel.style.width = 'auto';
                        carousel.style.zIndex = 'auto';
                        carousel.style.backgroundColor = 'transparent';
                        carousel.style.backdropFilter = 'none';
                        carousel.style.borderRadius = '0';
                        carousel.style.boxShadow = 'none';
                        carousel.style.padding = '0';
                        carousel.style.border = 'none';
                        carousel.style.opacity = '1';
                        carousel.style.transform = 'none';
                        carousel.style.transition = 'none';

                        // Supprimer le placeholder s'il existe
                        const placeholder = document.getElementById('sticky-placeholder');
                        if (placeholder) {
                            placeholder.remove();
                        }

                        isSticky = false;
                        isTransitioning = false;
                        console.log('📱 Sticky désactivé sur mobile');
                    }
                    return; // Sortir de la fonction sur mobile
                }

                const scrollY = window.scrollY;

                // Sauvegarder la position originale une seule fois
                if (!originalPosition) {
                    const rect = carousel.getBoundingClientRect();
                    originalPosition = {
                        top: carousel.offsetTop,
                        left: carousel.offsetLeft,
                        width: carousel.offsetWidth,
                        height: carousel.offsetHeight
                    };
                    console.log('📍 Original position saved:', originalPosition);
                }

                // Point de déclenchement : début du titre "Glacialis by Glacier®"
                const titleElement = document.querySelector('h1.product-name');
                let triggerPoint = originalPosition.top; // Fallback

                if (titleElement) {
                    triggerPoint = titleElement.offsetTop - 50; // Un peu avant le titre
                    console.log('📍 Title element found, trigger point set to:', triggerPoint);
                } else {
                    console.log('⚠️ Title element not found, using fallback trigger point');
                }

                // Point de fin : bien avant "Votre configuration complète" pour un meilleur rendu
                let endPoint = 999999; // Fallback très large
                let transitionZone = 150; // Zone de transition pour un effet fluide

                // Chercher "Votre configuration complète" comme point d'arrêt principal
                const allH3 = document.querySelectorAll('h3');
                for (let h3 of allH3) {
                    if (h3.textContent.trim() === 'Votre configuration complète') {
                        // Arrêter sticky 250px avant "Votre configuration complète"
                        endPoint = h3.offsetTop - 250;
                        console.log('📍 "Votre configuration complète" found, end point set to:', endPoint);
                        break;
                    }
                }

                // Si pas trouvé, chercher "Points forts" comme fallback
                if (endPoint === 999999) {
                    for (let h3 of allH3) {
                        if (h3.textContent.trim() === 'Points forts') {
                            endPoint = h3.offsetTop - 300;
                            console.log('📍 Using "Points forts" as fallback, end point set to:', endPoint);
                            break;
                        }
                    }
                }

                // Dernier fallback : section Points Forts (h2)
                if (endPoint === 999999) {
                    const allH2 = document.querySelectorAll('h2');
                    for (let h2 of allH2) {
                        if (h2.textContent.includes('Points Forts') || h2.textContent.includes('Points forts')) {
                            endPoint = h2.offsetTop - 400;
                            console.log('📍 Using section Points Forts (h2) as last fallback, end point set to:', endPoint);
                            break;
                        }
                    }
                }

                console.log(`📊 Scroll: ${scrollY}, Trigger: ${triggerPoint}, End: ${endPoint}, Sticky: ${isSticky}`);

                // Activer le sticky quand on est dans la zone
                if (scrollY > triggerPoint && scrollY < endPoint - transitionZone && !isSticky) {
                    console.log('🔥 Activating sticky mode');

                    // Créer un placeholder pour éviter le jump
                    const placeholder = document.createElement('div');
                    placeholder.id = 'sticky-placeholder';
                    placeholder.style.height = originalPosition.height + 'px';
                    placeholder.style.width = '100%';
                    carousel.parentNode.insertBefore(placeholder, carousel);

                    // Appliquer le sticky avec le style premium
                    carousel.style.position = 'fixed';
                    carousel.style.top = '120px';
                    carousel.style.left = '50px';
                    carousel.style.width = originalPosition.width + 'px';
                    carousel.style.zIndex = '1000';
                    carousel.style.backgroundColor = 'rgba(255, 255, 255, 0.95)';
                    carousel.style.backdropFilter = 'blur(10px)';
                    carousel.style.borderRadius = '20px';
                    carousel.style.boxShadow = '0 20px 60px rgba(0, 0, 0, 0.15)';
                    carousel.style.padding = '20px';
                    carousel.style.border = '1px solid rgba(255, 255, 255, 0.3)';
                    carousel.style.transition = 'all 0.4s cubic-bezier(0.4, 0, 0.2, 1)';
                    carousel.style.opacity = '1';
                    carousel.style.transform = 'translateY(0)';

                    isSticky = true;
                    isTransitioning = false;
                    console.log('✅ Sticky mode activated');

                }
                // Zone de transition : effet de glissement progressif vers le haut
                else if (scrollY >= endPoint - transitionZone && scrollY < endPoint && isSticky && !isTransitioning) {
                    console.log('🎨 Entering transition zone');

                    // Calculer la progression dans la zone de transition (0 à 1)
                    const progress = (scrollY - (endPoint - transitionZone)) / transitionZone;
                    const translateY = -200 * progress; // Glisse vers le haut progressivement
                    const opacity = 1 - (progress * 0.3); // Légère réduction d'opacité

                    carousel.style.transform = `translateY(${translateY}px)`;
                    carousel.style.opacity = opacity;

                    isTransitioning = true;
                }
                // Désactiver complètement après la zone de transition
                else if (scrollY >= endPoint && isSticky) {
                    console.log('🔄 Deactivating sticky mode with smooth exit');

                    // Animation de sortie fluide
                    carousel.style.transform = 'translateY(-250px)';
                    carousel.style.opacity = '0';

                    // Après l'animation, restaurer l'état normal
                    setTimeout(() => {
                        carousel.style.position = 'relative';
                        carousel.style.top = 'auto';
                        carousel.style.left = 'auto';
                        carousel.style.width = 'auto';
                        carousel.style.zIndex = 'auto';
                        carousel.style.backgroundColor = 'transparent';
                        carousel.style.backdropFilter = 'none';
                        carousel.style.borderRadius = '0';
                        carousel.style.boxShadow = 'none';
                        carousel.style.padding = '0';
                        carousel.style.border = 'none';
                        carousel.style.opacity = '1';
                        carousel.style.transform = 'none';
                        carousel.style.transition = 'none';

                        // Supprimer le placeholder
                        const placeholder = document.getElementById('sticky-placeholder');
                        if (placeholder) {
                            placeholder.remove();
                        }
                    }, 400);

                    isSticky = false;
                    isTransitioning = false;
                    console.log('✅ Sticky mode deactivated smoothly');
                }
                // Réactiver si on remonte
                else if (scrollY <= triggerPoint && isSticky) {
                    console.log('🔄 Deactivating sticky mode (scrolled back up)');

                    // Restaurer immédiatement
                    carousel.style.position = 'relative';
                    carousel.style.top = 'auto';
                    carousel.style.left = 'auto';
                    carousel.style.width = 'auto';
                    carousel.style.zIndex = 'auto';
                    carousel.style.backgroundColor = 'transparent';
                    carousel.style.backdropFilter = 'none';
                    carousel.style.borderRadius = '0';
                    carousel.style.boxShadow = 'none';
                    carousel.style.padding = '0';
                    carousel.style.border = 'none';
                    carousel.style.opacity = '1';
                    carousel.style.transform = 'none';
                    carousel.style.transition = 'none';

                    // Supprimer le placeholder
                    const placeholder = document.getElementById('sticky-placeholder');
                    if (placeholder) {
                        placeholder.remove();
                    }

                    isSticky = false;
                    isTransitioning = false;
                    console.log('✅ Sticky mode deactivated');
                }
            }

            // Attacher les événements
            window.addEventListener('scroll', handleScroll);
            window.addEventListener('resize', handleScroll);

            // Test initial après un délai pour s'assurer que tous les éléments sont chargés
            setTimeout(handleScroll, 200);

            console.log('✅ Sticky carousel initialization complete with smooth transitions');
        }

        // Initialisation immédiate - le DOM est déjà chargé à ce stade
        console.log('🏁 NOUVEAU: Initializing sticky carousel immediately...');
        initializeStickyCarousel();
    </script>

    <!-- Workaround: Separate sticky carousel initializer -->
    <script>
        // Solution de contournement pour le bug de déploiement qui tronque le script principal
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🚀 WORKAROUND: Separate initialization script starting...');

            // Attendre que tout soit chargé, puis tenter l'initialisation
            setTimeout(function() {
                if (typeof initializeStickyCarousel === 'function') {
                    console.log('✅ WORKAROUND: Found initializeStickyCarousel, calling it...');
                    initializeStickyCarousel();
                } else {
                    console.log('❌ WORKAROUND: initializeStickyCarousel function not found, retrying...');
                    // Retry après un délai plus long
                    setTimeout(function() {
                        if (typeof initializeStickyCarousel === 'function') {
                            console.log('✅ WORKAROUND RETRY: Found initializeStickyCarousel, calling it...');
                            initializeStickyCarousel();
                        } else {
                            console.log('❌ WORKAROUND RETRY: Still no initializeStickyCarousel function');
                        }
                    }, 1000);
                }
            }, 500);
        });
    </script>

    <!-- Shopping Cart Script -->
    <script src="cart.js"></script>
</body>
</html>